import{_ as s,c as i,o as a,a6 as t,a9 as l}from"./chunks/framework.TqvRFY8P.js";const E=JSON.parse('{"title":"沙拉翻译","titleTemplate":"外部调用","description":"","frontmatter":{"title":"沙拉翻译","titleTemplate":"外部调用"},"headers":[],"relativePath":"docs/invoke.md","filePath":"docs/invoke.md"}'),e={name:"docs/invoke.md"},h=t(`<h1 id="外部调用" tabindex="-1">外部调用 <a class="header-anchor" href="#外部调用" aria-label="Permalink to &quot;外部调用&quot;">​</a></h1><p>沙拉翻译 提供了完整的 HTTP 接口，以便可以被其他软件调用。您可以通过向 <code>127.0.0.1:port</code> 发送 HTTP 请求来调用 Saladict，其中的<code>port</code>是 沙拉翻译 监听的端口号，默认为<code>60606</code>,可以在软件设置中进行更改。</p><h2 id="api-文档" tabindex="-1">API 文档: <a class="header-anchor" href="#api-文档" aria-label="Permalink to &quot;API 文档:&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 翻译指定文本</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">body为需要翻译的文本</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 打开设置,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/translate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 翻译指定文本</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">同</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/selection_translate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 划词翻译,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/input_translate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 输入翻译,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_recognize&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 截图OCR,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_translate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 截图翻译,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_recognize?screenshot=false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 截图OCR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">不使用软件内截图</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_translate?screenshot=false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 截图翻译</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">不使用软件内截图</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_recognize?screenshot=true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 截图OCR,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_translate?screenshot=true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 截图翻译,</span></span></code></pre></div><h2 id="示例" tabindex="-1">示例： <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例：&quot;">​</a></h2><ul><li><p>调用划词翻译：</p><p>如果想要调用 沙拉翻译 划词翻译，只需向<code>127.0.0.1:port</code>发送请求即可。</p><p>例如通过 curl 发送请求：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;127.0.0.1:60606/selection_translate&quot;</span></span></code></pre></div></li></ul><h2 id="不使用软件内截图" tabindex="-1">不使用软件内截图 <a class="header-anchor" href="#不使用软件内截图" aria-label="Permalink to &quot;不使用软件内截图&quot;">​</a></h2><p>这一功能可以让您在不使用软件内截图的情况下调用截图 OCR/截图翻译功能，这样您就可以使用您喜欢的截图工具来截图了，也可以解决在某些平台下 沙拉翻译 自带的截图无法使用的问题。</p><h3 id="调用流程" tabindex="-1">调用流程 <a class="header-anchor" href="#调用流程" aria-label="Permalink to &quot;调用流程&quot;">​</a></h3><ol><li>使用其他截图工具截图</li><li>将截图保存在 <code>$CACHE/allen.town.focus.saladict/pot_screenshot_cut.png</code></li><li>向<code>127.0.0.1:port/ocr_recognize?screenshot=false</code>发送请求即可调用成功</li></ol><div class="info custom-block"><p class="custom-block-title">INFO</p><p><code>$CACHE</code>为系统缓存目录，例如在 Windows 上为<code>C:\\Users\\{用户名}\\AppData\\Local\\allen.town.focus.saladict\\pot_screenshot_cut.png</code></p></div><h3 id="示例-1" tabindex="-1">示例 <a class="header-anchor" href="#示例-1" aria-label="Permalink to &quot;示例&quot;">​</a></h3><p>在 Linux 下调用 Flameshot 进行截图 OCR:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.cache/allen.town.focus.saladict/pot_screenshot_cut.png</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flameshot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gui</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.cache/allen.town.focus.saladict/pot_screenshot_cut.png</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;127.0.0.1:60606/ocr_recognize?screenshot=false&quot;</span></span></code></pre></div><h2 id="现有用法-快捷划词翻译-推荐使用" tabindex="-1">现有用法 (快捷划词翻译)(推荐使用) <a class="header-anchor" href="#现有用法-快捷划词翻译-推荐使用" aria-label="Permalink to &quot;现有用法 (快捷划词翻译)(推荐使用)&quot;">​</a></h2><h3 id="效果展示" tabindex="-1">效果展示 <a class="header-anchor" href="#效果展示" aria-label="Permalink to &quot;效果展示&quot;">​</a></h3><p><img src="`+l+'" alt="Popup example"></p><h3 id="snipdo-windows" tabindex="-1">SnipDo (Windows) <a class="header-anchor" href="#snipdo-windows" aria-label="Permalink to &quot;SnipDo (Windows)&quot;">​</a></h3><ol><li>从 <a href="https://apps.microsoft.com/store/detail/snipdo/9NPZ2TVKJVT7" target="_blank" rel="noreferrer">Microsoft Store</a> 下载安装 SnipDo。</li><li>从 <a href="https://github.com/allentown521/saladict/releases/latest" target="_blank" rel="noreferrer">Release</a> 下载 沙拉翻译 的 SnipDo 扩展 (Saladict.pbar)</li><li>双击下载的扩展文件完成安装。</li><li>选中文字，可以看到弹出的 SnipDo 工具条，点击翻译按钮即可翻译。</li></ol><h3 id="popclip-macos" tabindex="-1">PopClip (MacOS) <a class="header-anchor" href="#popclip-macos" aria-label="Permalink to &quot;PopClip (MacOS)&quot;">​</a></h3><ol><li>从 <a href="https://apps.apple.com/us/app/popclip/id445189367?mt=12" target="_blank" rel="noreferrer">App Store</a> 下载安装 PopClip</li><li>从 <a href="https://github.com/allentown521/saladict/releases/latest" target="_blank" rel="noreferrer">Release</a> 下载 沙拉翻译 的 PopClip 扩展 (Saladict.popclipextz)</li><li>双击下载的扩展文件完成安装。</li><li>在 PopClip 的扩展中启用 沙拉翻译 扩展，选中文本即可点击翻译。</li></ol><h3 id="starry-linux" tabindex="-1">Starry (Linux) <a class="header-anchor" href="#starry-linux" aria-label="Permalink to &quot;Starry (Linux)&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Starry 目前仍处于开发阶段，因此您只能手动编译它。</p></div><p>Github: <a href="https://github.com/ccslykx/Starry" target="_blank" rel="noreferrer">ccslykx/Starry</a></p>',24),n=[h];function p(k,r,o,d,c,F){return a(),i("div",null,n)}const u=s(e,[["render",p]]);export{E as __pageData,u as default};
