import{_ as s,c as i,o as a,a6 as t,a9 as e}from"./chunks/framework.DLIhdkYY.js";const E=JSON.parse('{"title":"Saladict","titleTemplate":"External Calls","description":"","frontmatter":{"title":"Saladict","titleTemplate":"External Calls"},"headers":[],"relativePath":"en/docs/invoke.md","filePath":"en/docs/invoke.md"}'),l={name:"en/docs/invoke.md"},n=t(`<h1 id="external-calls" tabindex="-1">External Calls <a class="header-anchor" href="#external-calls" aria-label="Permalink to &quot;External Calls&quot;">​</a></h1><p>Saladict provides a complete HTTP interface for integration with other software. You can call Saladict by sending HTTP requests to <code>127.0.0.1:port</code>, where <code>port</code> is the listening port of Saladict, default to <code>60606</code>, and can be changed in the app settings.</p><h2 id="api-docs" tabindex="-1">API Docs: <a class="header-anchor" href="#api-docs" aria-label="Permalink to &quot;API Docs:&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Translate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> given</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (body </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> text</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> translate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/translate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Translate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> given</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (same </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/selection_translate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Translate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> selected</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> text</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/input_translate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> input</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> translation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_recognize&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Perform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OCR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> screenshot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_translate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Perform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> translation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> screenshot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_recognize?screenshot=false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OCR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> without</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> taking</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> screenshot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_translate?screenshot=false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Translate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> screenshot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> without</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> taking</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> screenshot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_recognize?screenshot=true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OCR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> screenshot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/ocr_translate?screenshot=true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Translate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> screenshot</span></span></code></pre></div><h2 id="example" tabindex="-1">Example: <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example:&quot;">​</a></h2><ul><li><p>Call translation by selection:</p><p>To call Saladict&#39;s translation by selection, simply send a request to <code>127.0.0.1:port</code>:</p><p>E.g. using curl:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;127.0.0.1:60606/selection_translate&quot;</span></span></code></pre></div></li></ul><h2 id="ocr-without-internal-screenshot" tabindex="-1">OCR without internal screenshot <a class="header-anchor" href="#ocr-without-internal-screenshot" aria-label="Permalink to &quot;OCR without internal screenshot&quot;">​</a></h2><p>This allows you to perform OCR/translation without using Saladict&#39;s internal screenshot, so you can use your own screenshot tools. It also solves the problem where Saladict&#39;s internal screenshot doesn&#39;t work on some platforms.</p><h3 id="workflow" tabindex="-1">Workflow: <a class="header-anchor" href="#workflow" aria-label="Permalink to &quot;Workflow:&quot;">​</a></h3><ol><li>Take screenshot using other tool</li><li>Save screenshot to <code>$CACHE/allen.town.focus.saladict/pot_screenshot_cut.png</code></li><li>Send request to <code>127.0.0.1:port/ocr_recognize?screenshot=false</code> to call</li></ol><div class="info custom-block"><p class="custom-block-title">INFO</p><p><code>$CACHE</code> is the system cache dir, e.g. <code>C:\\Users\\{username}\\AppData\\Local\\allen.town.focus.saladict\\pot_screenshot_cut.png</code> on Windows.</p></div><h3 id="example-1" tabindex="-1">Example <a class="header-anchor" href="#example-1" aria-label="Permalink to &quot;Example&quot;">​</a></h3><p>OCR using Flameshot on Linux:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.cache/allen.town.focus.saladict/pot_screenshot_cut.png</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flameshot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gui</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.cache/allen.town.focus.saladict/pot_screenshot_cut.png</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;127.0.0.1:60606/ocr_recognize?screenshot=false&quot;</span></span></code></pre></div><h2 id="existing-usages-quick-selection-translation-recommended" tabindex="-1">Existing Usages (Quick selection translation)(Recommended) <a class="header-anchor" href="#existing-usages-quick-selection-translation-recommended" aria-label="Permalink to &quot;Existing Usages (Quick selection translation)(Recommended)&quot;">​</a></h2><h3 id="effect-display" tabindex="-1">Effect display <a class="header-anchor" href="#effect-display" aria-label="Permalink to &quot;Effect display&quot;">​</a></h3><p><img src="`+e+'" alt="Popup example"></p><h3 id="snipdo-windows" tabindex="-1">SnipDo (Windows) <a class="header-anchor" href="#snipdo-windows" aria-label="Permalink to &quot;SnipDo (Windows)&quot;">​</a></h3><ol><li>Download and install SnipDo in the <a href="https://apps.microsoft.com/store/detail/snipdo/9NPZ2TVKJVT7" target="_blank" rel="noreferrer">Microsoft Store</a></li><li>Download the SnipDo extension of Saladict from the Latest <a href="https://github.com/allentown521/saladict/releases/latest" target="_blank" rel="noreferrer">Release</a> (Saladict.pbar)</li><li>Double click the downloaded file to install it.</li><li>Selection some text, you can see the Saladict icon in the upper right corner of the selection, click the icon to translate.</li></ol><h3 id="popclip-macos" tabindex="-1">PopClip (MacOS) <a class="header-anchor" href="#popclip-macos" aria-label="Permalink to &quot;PopClip (MacOS)&quot;">​</a></h3><ol><li>Download and install PopClip in the <a href="https://apps.apple.com/us/app/popclip/id445189367?mt=12" target="_blank" rel="noreferrer">App Store</a></li><li>Download the PopClip extension of Saladict from the Latest <a href="https://github.com/allentown521/saladict/releases/latest" target="_blank" rel="noreferrer">Release</a> (Saladict.popclipextz)</li><li>Double click the downloaded file to install it.</li><li>Enable the Saladict extension in PopClip settings, and then you can translate by selecting text.</li></ol><h3 id="starry-linux" tabindex="-1">Starry (Linux) <a class="header-anchor" href="#starry-linux" aria-label="Permalink to &quot;Starry (Linux)&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Starry is still in the development stage, so you can only compile him manually</p></div><p>Github: <a href="https://github.com/ccslykx/Starry" target="_blank" rel="noreferrer">ccslykx/Starry</a></p>',24),h=[n];function p(o,r,k,d,c,F){return a(),i("div",null,h)}const u=s(l,[["render",p]]);export{E as __pageData,u as default};
